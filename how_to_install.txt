loadkeys de_CH-latin1

gdisk /dev/sdx

(mkfs.fat -F 32 -n EFIBOOT /dev/sdx#)
mkfs.ext4 -L arch /dev/sdx#
mkswap -L swap /dev/sdx#

mount -L arch /mnt
mkdir & mount
swapon -L swap

setup network connection (wifi-menu)

cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak
vim /etc/pacman.d/mirrorlist

timedatectl status
timedatectl set-ntp true

pacstrap /mnt base base-devel intel-ucode networkmanager vim

genfstab -U /mnt >> /mnt/etc/fstab

arch-chroot /mnt

ln -sf /usr/share/zoneinfo/Region/City /etc/localtime

echo myhost > /etc/hostname

vim /etc/locale.gen  # uncomment all en_US, de_CH, de_DE
locale-gen

echo LANG=en_US.UTF-8 > /etc/locale.conf  # (or: de_CH.UTF-8)

vim /etc/vconsole.conf
->KEYMAP=sg-latin1
->FONT=Lat2-Terminus16
->Lang=en_US

vim /etc/hosts
#
# /etc/hosts: static lookup table for host names
#
#<ip-address>	<hostname.domain.org>	<hostname>
127.0.0.1	localhost.localdomain	localhost arch
::1		localhost.localdomain	localhost arch

mkinitcpio -p linux
passwd

pacman -S grub os-prober efibootmgr dosfstools gptfdisk

grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub --recheck --debug
grub-mkconfig -o /boot/grub/grub.cfg


exit
umount -R /mnt
reboot


useradd -m -g users -s /bin/bash user_name
passwd user_name

vim /etc/sudoers
%wheel ALL=(ALL) ALL

gpasswd -a user_name wheel

pacman -S acpid dbus avahi cronie

pacman -S git
mkdir .dotfiles
git clone https://github.com/Veit96/dotfiles.git .dotfiles
cd .dotfiles
./install

pacman -S $(< my_packages.txt)

install yay (aur helper)

yay -S urxvt-resize-font-git polybar mons



<<<<< ------------- >>>>>>
ADDITIONAL SETTINGS

-> install yay:
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
cd ..
rm -rf yay

-> slim login manager:
custom login wallpaper: /usr/share/slim/themes/<yourtheme> create a symlink: "ln -s /path/to/image.png background.png"
and to make sure it doesn't get updated: add "slim-themes" in /etc/pacman.conf as a "IgnoredPkg"
in /etc/slim.conf add current_theme...

-> switch capslock and escape:
add "XkbOptions" "terminate:ctrl_alt_bksp,caps:swapescape" in /etc/X11/xorg.conf.d/00-keyboard.conf

-> switch function buttons to F1..F12 on Logitech K780:

-> pacman stuff: 
uncomment "#Color" for color pacman
add aur

-> vim stuff:
install vundle
vim-jedi
vim-jellybeans
vim-latexsuite
vim-spell-de
vim-supertab

-> have a look at tlp

-> pywal:
wal -i image.png

-> Fixing Invalid MIT-MAGIC-COOKIE-1:
uncomment 'Defaults env_keep += “HOME”' in /etc/sudoers

-> setting windows to UTC instead of localtime:
reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation" /v RealTimeIsUniversal /d 1 /t REG_DWORD /f

<<<<< ------------- >>>>>>
PROGRAMMS FOR CERTAIN TASKS

display manager / login manager -> slim
window manager -> i3
shell -> zsh
terminal -> rxvt-unicode
app launcher -> rofi, dmenu
aur helper -> yay
file manager -> nautilus
browser -> qutebrowser
wallpaper setter -> nitrogen, wal
image viewer -> sxiv 
pdf viewer -> zathura, okular
office -> 
video/audo player -> smplayer, mpv



<<<<< ------------- >>>>>>
USEFULL COMMANDS

connect to ethernet:
sudo systemctl enable dhcpcd@enp3s0.service

sudo systemctl enable netctl-auto@wlo1.service

sudo systemctl stop/disable netctl/NetworkManager/...

// this app handles monitor setup
mons

//i3lock-blur replaced i3lock as a screenlocker

sh ./eduroam...
(karpfv@ethz.ch, normales passwort)

wicd
connman
wpa_supplicant_gui

//search disk an list memory usage 
ncdu -x 

//list packages sorted by size
expac -H M "%011m\t%-20n\t%10d" $(comm -23 <(pacman -Qqen | sort) <(pacman -Qqg base base-devel | sort)) | sort -n

//print system information
uname -a

// nmcli
nmcli radio wifi on/off
nmcli con
nmcli dev

<<<<< ------------- >>>>>>
